<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<!-- <link rel="stylesheet" href="css/header_footer.css"> -->
	<link rel="stylesheet" href="../dist/assets/css/all.css">
	<link rel="stylesheet" href="./assets/css/pages/signin.css">
	<link rel="stylesheet" href="../dist/assets/css/pages/3d.css">
	<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
	<script src="./assets/js/jquery-3.5.1.js"></script>
	<script src="./assets/js/vue.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.12/vue.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
	<script src="https://apis.google.com/js/platform.js" async defer></script>
	<meta name="google-signin-client_id" content="5123688312-hh38n162r8fqfrd31n2a2hid0q7pk7uf.apps.googleusercontent.com">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.js"
		integrity="sha512-c5JDIvikBZ6tuz+OyaFsHKvuyg+tCug3hf41Vmmd5Yz9H5anj4vZOqlBV5PJoEbBJGFCgKoRT9YAgko4JS6/Qw=="
		crossorigin="anonymous"></script>

</head>

<body>
	<div id="app">
		<vue-header></vue-header>

		@@include('./compontents/head.html')


		@@include('./compontents/searchbar.html')


		@@include('./compontents/music.html')
		<div class="wrapper">


			<div class="rightbar">
				<div class="top">
					<h1>Exhibits Of Universe</h1>

					<!-- <div class="features">
						<i class="fas fa-search"></i>
						<div class="personal"><a href="">個人展間</a>
						</div>


						<div class="login"><a href="" class="login_manger">管理</a>
							<i class="fas fa-user-friends"></i>
						</div>

						<i class="fas fa-bell"></i>
					</div> -->
				</div>


				<div class="mid">
					<div class="swiper-container">
						<div class="swiper-wrapper">

							<div class="swiper-slide">
								<div class="mid_firstart">
									<div class="mid_firstart_number">01</div>
									<div class="mid_firstart_name">Meteorite</div>
									<div class="mid_firstart_link">OVERVIWE</div>
									<div class="firstintro_rwd">
										<div class="firstintro_top">

											<img src="./assets/img/3d/Polygon 2.png" alt="">

											<p> 威拉姆特隕石的正式名稱是威拉姆特，是在美國俄勒岡發現一顆鐵-鎳為主的隕石。它是美國最大的隕石，也是世界第六大的隕石
											</p>
										</div>

										<div class="firstintro_mid">
											<img src="./assets/img/3d/Polygon 3.png" alt="">
											<p> 在發現的地點沒有隕石坑，因此有可能是落在現在的加拿大，然後在冰河時期隨著冰層的流動搬移到被發現的地方。</p>
										</div>

										<div class="firstintro_down">
											<img src="./assets/img/3d/Polygon 3.png" alt="">
											<p> 它目前展示在美國自然歷史博物館。</p>
										</div>
									</div>
								</div>
								<!-- <img class="moon" src="./assets/img/3d/Image.png" alt=""> -->
								<div class="3d_1"></div>

								<div class="firstintro">
									<div class="firstintro_top">

										<img src="./assets/img/3d/Polygon 2.png" alt="">
										<p> 威拉姆特隕石的正式名稱是威拉姆特，是在美國俄勒岡發現一顆鐵-鎳為主的隕石。它是美國最大的隕石，也是世界第六大的隕石
										</p>
									</div>

									<div class="firstintro_mid">
										<img src="./assets/img/3d/Polygon 3.png" alt="">
										<p> 在發現的地點沒有隕石坑，因此有可能是落在現在的加拿大，然後在冰河時期隨著冰層的流動搬移到被發現的地方。</p>
									</div>

									<div class="firstintro_down">
										<img src="./assets/img/3d/Polygon 3.png" alt="">
										<p> 它目前展示在美國自然歷史博物館。</p>
									</div>
								</div>
							</div>

							<div class="swiper-slide">
								<div class="mid_firstart">
									<div class="mid_firstart_number">02</div>
									<div class="mid_firstart_name">Shenmu</div>
									<div class="mid_firstart_link">OVERVIWE</div>
									<div class="firstintro_rwd">
										<div class="firstintro_top">

											<img src="./assets/img/3d/Polygon 2.png" alt="">
											<p> 馬丘比丘神木翠枝，為古代馬丘比丘祭司儀式時所用，原神木高43.6公尺，樹圍16.2公尺，又稱「馬丘比丘洛神木」。
											</p>
										</div>

										<div class="firstintro_mid">
											<img src="./assets/img/3d/Polygon 3.png" alt="">
											<p> 是目前馬丘比丘已公佈最大、最高、最古老的大樟樹。這棵神木所在的村落，也因為這棵大樟樹神木而得名為「神木村」。</p>
										</div>

										<div class="firstintro_down">
											<img src="./assets/img/3d/Polygon 3.png" alt="">
											<p> 其樹冠甚寬，庇蔭廣闊，深受當地村民的敬重，認為樹齡3000年，並尊稱為「羽蛇神棲息之處所」。</p>
										</div>
									</div>
								</div>
								<div class="3d_2"></div>
								<!-- <img class="moon" src="./assets/img/3d/Image.png" alt=""> -->
								<div class="firstintro">
									<div class="firstintro_top">

										<img src="./assets/img/3d/Polygon 2.png" alt="">
										<p> 馬丘比丘神木翠枝，為古代馬丘比丘祭司儀式時所用，原神木高43.6公尺，樹圍16.2公尺，又稱「馬丘比丘洛神木」。
										</p>
									</div>

									<div class="firstintro_mid">
										<img src="./assets/img/3d/Polygon 3.png" alt="">
										<p> 是目前馬丘比丘已公佈最大、最高、最古老的大樟樹。這棵神木所在的村落，也因為這棵大樟樹神木而得名為「神木村」。</p>
									</div>

									<div class="firstintro_down">
										<img src="./assets/img/3d/Polygon 3.png" alt="">
										<p> 其樹冠甚寬，庇蔭廣闊，深受當地村民的敬重，認為樹齡3000年，並尊稱為「羽蛇神棲息之處所」。</p>
									</div>
								</div>
							</div>

							<div class="swiper-slide">
								<div class="mid_firstart">
									<div class="mid_firstart_number">03</div>
									<div class="mid_firstart_name">Battleship</div>
									<div class="mid_firstart_link">OVERVIWE</div>
									<div class="firstintro_rwd">
										<div class="firstintro_top">

											<img src="./assets/img/3d/Polygon 2.png" alt="">
											<p> 英王喬治五世級戰艦（King George V class）是英國於1930年代末建造的一級戰艦，也是二戰前英國建造的最後一級戰艦。
											</p>
										</div>

										<div class="firstintro_mid">
											<img src="./assets/img/3d/Polygon 3.png" alt="">
											<p> 其設計遵守1936年第二次倫敦海軍條約（限制戰艦的標準排水量不超過35000噸，主炮口徑不大於14英寸即356毫米）的規定，是典型的條約型戰艦。
											</p>
										</div>

										<div class="firstintro_down">
											<img src="./assets/img/3d/Polygon 3.png" alt="">
											<p> 同級艦有英王喬治五世號（HMS King George V ）、威爾斯親王號（HMS Prince of Wales）、約克公爵號（HMS
												Duke of York）、安森號（HMS Anson）、豪號（HMS Howe）5艘。</p>
										</div>
									</div>
								</div>
								<div class="3d_3"></div>
								<!-- <img class="moon" src="./assets/img/3d/Image.png" alt=""> -->
								<div class="firstintro">
									<div class="firstintro_top">

										<img src="./assets/img/3d/Polygon 2.png" alt="">
										<p> 英王喬治五世級戰艦（King George V class）是英國於1930年代末建造的一級戰艦，也是二戰前英國建造的最後一級戰艦。
										</p>
									</div>

									<div class="firstintro_mid">
										<img src="./assets/img/3d/Polygon 3.png" alt="">
										<p> 其設計遵守1936年第二次倫敦海軍條約（限制戰艦的標準排水量不超過35000噸，主炮口徑不大於14英寸即356毫米）的規定，是典型的條約型戰艦。</p>
									</div>

									<div class="firstintro_down">
										<img src="./assets/img/3d/Polygon 3.png" alt="">
										<p> 同級艦有英王喬治五世號（HMS King George V ）、威爾斯親王號（HMS Prince of Wales）、約克公爵號（HMS Duke
											of York）、安森號（HMS Anson）、豪號（HMS Howe）5艘。</p>
									</div>
								</div>
							</div>

							<div class="swiper-slide">
								<div class="mid_firstart">
									<div class="mid_firstart_number">04</div>
									<div class="mid_firstart_name">Ｔrex</div>
									<div class="mid_firstart_link">OVERVIWE</div>
									<div class="firstintro_rwd">
										<div class="firstintro_top">

											<img src="./assets/img/3d/Polygon 2.png" alt="">
											<p>「雷弗蒂歐斯」身為地球上第一隻複製成功的恐龍，目前年齡為12歲，高8公尺，重約6噸．
											</p>
										</div>

										<div class="firstintro_mid">
											<img src="./assets/img/3d/Polygon 3.png" alt="">
											<p> 「雷弗蒂歐斯」屬於暴龍屬，暴龍屬擁有目前已知動物中最大級別的咬合力之一，其咬合力將近6公噸、相當於一隻大象的重量。</p>
										</div>

										<div class="firstintro_down">
											<img src="./assets/img/3d/Polygon 3.png" alt="">
											<p> 牠目前飼養在美國洛杉磯侏羅紀世界公園中，葧塢博物館與之合作，展示期間為2021/5/5~2021/7/5。</p>
										</div>
									</div>
								</div>
								<div class="3d_4"></div>
								<!-- <img class="moon" src="./assets/img/3d/Image.png" alt=""> -->
								<div class="firstintro">
									<div class="firstintro_top">

										<img src="./assets/img/3d/Polygon 2.png" alt="">
										<p> 「雷弗蒂歐斯」身為地球上第一隻複製成功的恐龍，目前年齡為12歲，高8公尺，重約6噸．
										</p>
									</div>

									<div class="firstintro_mid">
										<img src="./assets/img/3d/Polygon 3.png" alt="">
										<p> 「雷弗蒂歐斯」屬於暴龍屬，暴龍屬擁有目前已知動物中最大級別的咬合力之一，其咬合力將近6公噸、相當於一隻大象的重量。</p>
									</div>

									<div class="firstintro_down">
										<img src="./assets/img/3d/Polygon 3.png" alt="">
										<p> 牠目前飼養在美國洛杉磯侏羅紀世界公園中，葧塢博物館與之合作，展示期間為2021/5/5~2021/7/5。</p>
									</div>
								</div>
							</div>

							<!-- <div class="swiper-slide">Slide 4</div> -->
						</div>
						<!-- Add Pagination -->
						<div class="swiper-pagination"></div>
					</div>
				</div>

				<!-- <span class="music">
				<span class="music_btn">
					<span> </span>
					<span> </span>
					<span> </span>
				</span>
				<span class="music_prompt">
					Music on/off
				</span>
			</span> -->

			</div>
		</div>


		@@include('./compontents/footer.html')
		<!-- <script src="./assets/js/new.js"></script> -->


		<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

		<!-- Initialize Swiper -->
		<script>
			var swiper = new Swiper('.swiper-container', {
				slidesPerView: 1,
				spaceBetween: 30,
				mousewheel: true,
				speed: 1000,
				pagination: {
					el: '.swiper-pagination',
					clickable: true,
				},
			});
		</script>
		<script type="module">
			import * as THREE from 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r124/three.module.min.js';

			// import Stats from 'https://threejs.org/examples/jsm/libs/stats.module.js';

			import {
				OrbitControls
			} from 'https://threejs.org/examples/jsm/controls/OrbitControls.js';
			import {
				FBXLoader
			} from 'https://threejs.org/examples/jsm/loaders/FBXLoader.js';

			// let camera, scene, renderer, stats;
			// let camera2, scene2, renderer2, stats2;

			const model_list = [
				{
					camera: null,
					scene: null,
					renderer: null,
					stats: null,
					model: '../3d/fbx_f_1500_v_752/fbx_f_1500_v_752.fbx',
					x: '0',
					y: '-5',
					z: '40',
					a: '10',
					b: '10',
					c: '10',
				},
				{
					camera: null,
					scene: null,
					renderer: null,
					stats: null,
					model: '../3d/Tree.fbx',
					x: '-1.5',
					y: '4',
					z: '-2',
					a: '1',
					b: '1',
					c: '1',

				},
				{
					camera: null,
					scene: null,
					renderer: null,
					stats: null,
					model: '../3d/samidare-destroyer/source/full.fbx',
					// x: '800',
					// y: '100',
					x: '10',
					y: '50',
					z: '-20',
					a: '1',
					b: '1',
					c: '1',
				},
				{
					camera: null,
					scene: null,
					renderer: null,
					stats: null,
					model: '../3d/trex.fbx',
					x: '1.5',
					y: '0',
					z: '1.2',
					a: '1',
					b: '1',
					c: '1',

				},
			]

			for (let index = 0; index < model_list.length; index++) {
				const current = model_list[index];

				console.log(index);



				const clock = new THREE.Clock();

				let mixer;


				init();
				// init_2();
				animate();

				function init() {

					const container = document.createElement('div');
					document.body.appendChild(container);

					current.camera = new THREE.PerspectiveCamera(35, window.innerWidth / window.innerHeight, 1, 2000);
					// camera.position.set(3, 0.5, -2);
					current.camera.position.set(current.x, current.y, current.z);

					// camera.lookAt(1, 1, 1);
					current.camera.lookAt(current.a, current.b, current.c);


					current.scene = new THREE.Scene();
					current.scene.background = new THREE.Color('rgb(207, 204, 204)');
					current.scene.fog = new THREE.Fog('rgb(207, 204, 204)', 200, 1000);

					const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);
					hemiLight.position.set(0, 2000, 0);
					current.scene.add(hemiLight);

					const dirLight = new THREE.DirectionalLight(0xffffff);
					dirLight.position.set(20, 20, 10);
					dirLight.castShadow = true;
					dirLight.shadow.camera.top = 180;
					dirLight.shadow.camera.bottom = -100;
					dirLight.shadow.camera.left = -120;
					dirLight.shadow.camera.right = 120;
					current.scene.add(dirLight);

					// scene.add( new THREE.CameraHelper( dirLight.shadow.camera ) );

					// ground
					// const mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(2000, 2000), new THREE.MeshPhongMaterial({
					// 	// color: 0x2E2824,
					// 	color: '#2e2725',
					// 	depthWrite: false
					// }));
					// mesh.rotation.x = -Math.PI / 1;
					// mesh.receiveShadow = true;
					// scene.add(mesh);

					// const grid = new THREE.GridHelper(200, 20, 0x000000, 0x000000);
					// grid.material.opacity = 0.2;
					// grid.material.transparent = true;
					// scene.add(grid);

					// model
					var threed = document.getElementsByClassName("3d_" + (index + 1))[0];
					console.log(threed);
					const loader = new FBXLoader();
					loader.load(current.model, function (object) {

						//中心點
						// object.children[0].geometry.computeBoundingBox();

						// object.rotation.x = THREE.Math.degToRad(0);
						// object.rotation.y = THREE.Math.degToRad(50);
						// object.rotation.z = THREE.Math.degToRad(0);
						// console.log(- (object.children[0].geometry.boundingBox.max.x + object.children[0].geometry.boundingBox.min.x) / 2);
						// console.log(- (object.children[0].geometry.boundingBox.max.y + object.children[0].geometry.boundingBox.min.y) / 2);
						// console.log(- (object.children[0].geometry.boundingBox.max.z + object.children[0].geometry.boundingBox.min.z) / 2);
						// console.log(object.children[0].geometry.center());

						// window.addEventListener('resize', function () {
						// 	player.setSize(window.innerWidth, window.innerHeight);
						// });

						// var player = new APP.Player();
						// player.load(JSON.parse(object));
						// player.setSize(window.innerWidth, window.innerWidth);
						// player.play();

						// document.getElementsByClassName("3d")[0].appendChild(player.dom);
						// mixer = new THREE.AnimationMixer(object);

						// const action = mixer.clipAction(object.animations[0]);
						// let action = mixer.clipAction((obj as any).animations[0]);
						// action.play();

						// object.traverse(function(child) {

						//     if (child.isMesh) {

						//         child.castShadow = true;
						//         child.receiveShadow = true;

						//     }

						// });

						current.scene.add(object);

					});


					current.renderer = new THREE.WebGLRenderer({
						antialias: true
					});
					current.renderer.setPixelRatio(window.devicePixelRatio);
					current.renderer.setSize(window.innerWidth, window.innerHeight);
					current.renderer.shadowMap.enabled = true;
					container.appendChild(current.renderer.domElement);

					const controls = new OrbitControls(current.camera, current.renderer.domElement);
					controls.target.set(0, 0, 0.8);
					controls.update();

					window.addEventListener('resize', onWindowResize, false);

					// stats
					// current.stats = new Stats();
					// container.appendChild(current.stats.dom);

					var canvas = document.getElementsByTagName('canvas')[index];
					threed.appendChild(canvas);

				}







				function onWindowResize() {

					current.camera.aspect = window.innerWidth / window.innerHeight;
					current.camera.updateProjectionMatrix();

					current.renderer.setSize(window.innerWidth, window.innerHeight);

				}

				//

				function animate() {

					requestAnimationFrame(animate);

					const delta = clock.getDelta();

					if (mixer) mixer.update(delta);

					current.renderer.render(current.scene, current.camera);
					// current.renderer.render(current.scene, camera);

					// current.stats.update();

				}
			}
		</script>
		<!-- <script src="./assets/js/three_trex.js"></script> -->
		<script src="./assets/js/menu.js"></script>
		<script src="./assets/js/loginFB.js"></script>
		<script src="./assets/js/loginGoogle.js"></script>
		<script src='./assets/js/music.js'></script>
		<script src='./assets/js/verify.js'></script>
		<script src='./assets/js/logIn.js'></script>
</body>

</html>